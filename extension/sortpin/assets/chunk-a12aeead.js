import{u as N,j as e,a as b,b as a,r as i,F as k,R as ne,__tla as ae}from"./chunk-4bb03027.js";import{A as C,C as se,a as oe,v as P,X as ie,S,R as L,__tla as le}from"./chunk-3dca305e.js";import{p as E,r as f,k as ce,l as w,a as j,T as I,U as M,V as de,W as B}from"./chunk-02db1d94.js";import{s as v}from"./chunk-f82a9361.js";import{q as pe}from"./chunk-adf0e4e1.js";Promise.all([(()=>{try{return ae}catch{}})(),(()=>{try{return le}catch{}})()]).then(async()=>{function U(){const[n,s]=N();return e("div",{className:b({"flex items-center":!0,"justify-end":n.heyButton.sidebarPosition==="top-right","justify-start":n.heyButton.sidebarPosition==="top-left"}),children:a("button",{id:"hey-button",className:b({"flex bg-pink-600 hover:bg-pink-800 border-pink-600 hover:border-pink-800 items-center text-white border-2 border-dashed px-2 py-1 rounded-md cursor-pointer":!0}),style:{zIndex:999},onClick:async()=>{let o=window.location.href;const t=E(o);t?(await s.setPinsPinners([t]),await s.setHeyButtonIframe(chrome.runtime.getURL("popup.html#/pins"))):await s.setHeyButtonIframe(chrome.runtime.getURL("popup.html")),await s.toggleHeyButton()},children:[n.heyButton.sidebarPosition==="top-right"&&e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("path",{fillRule:"evenodd",d:"M3.22 7.595a.75.75 0 0 0 0 1.06l3.25 3.25a.75.75 0 0 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-3.25 3.25Zm8.25-3.25-3.25 3.25a.75.75 0 0 0 0 1.06l3.25 3.25a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06Z",clipRule:"evenodd"})}),e("span",{className:"ml-1.5 mr-1.5 text-xs uppercase font-medium",children:"SortPin.com"}),n.heyButton.sidebarPosition==="top-left"&&e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("path",{fillRule:"evenodd",d:"M12.78 7.595a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06l2.72-2.72-2.72-2.72a.75.75 0 0 1 1.06-1.06l3.25 3.25Zm-8.25-3.25 3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06l2.72-2.72-2.72-2.72a.75.75 0 0 1 1.06-1.06Z",clipRule:"evenodd"})})]})})}function A(){const[n,s]=N();return a("div",{className:b({"flex items-center justify-between space-x-1":!0,"justify-end":n.heyButton.sidebarPosition==="top-right","justify-start":n.heyButton.sidebarPosition==="top-left"}),children:[e("a",{href:chrome.runtime.getURL("/popup.html#/pins"),target:"_blank",rel:"noopener noreferrer",id:"pins-button",className:b({"flex bg-pink-600 w-full justify-center hover:bg-pink-800 border-pink-600 hover:border-pink-800 items-center text-white border-2 border-dashed px-2 py-1 rounded-md cursor-pointer":!0}),style:{zIndex:999},children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("path",{d:"M3.75 2a.75.75 0 0 0-.75.75v10.5a.75.75 0 0 0 1.28.53L8 10.06l3.72 3.72a.75.75 0 0 0 1.28-.53V2.75a.75.75 0 0 0-.75-.75h-8.5Z"})})}),e("a",{href:chrome.runtime.getURL("/popup.html#/boards"),target:"_blank",rel:"noopener noreferrer",id:"boards-button",className:b({"flex bg-blue-600 w-full justify-center hover:bg-blue-800 border-blue-600 hover:border-blue-800 items-center text-white border-2 border-dashed px-2 py-1 rounded-md cursor-pointer":!0}),style:{zIndex:999},children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("path",{d:"M7.25 3.688a8.035 8.035 0 0 0-4.872-.523A.48.48 0 0 0 2 3.64v7.994c0 .345.342.588.679.512a6.02 6.02 0 0 1 4.571.81V3.688ZM8.75 12.956a6.02 6.02 0 0 1 4.571-.81c.337.075.679-.167.679-.512V3.64a.48.48 0 0 0-.378-.475 8.034 8.034 0 0 0-4.872.523v9.268Z"})})}),e("a",{href:chrome.runtime.getURL("/popup.html#/pinners"),target:"_blank",rel:"noopener noreferrer",id:"pinners-button",className:b({"flex bg-teal-600 w-full justify-center hover:bg-teal-800 border-teal-600 hover:border-teal-800 items-center text-white border-2 border-dashed px-2 py-1 rounded-md cursor-pointer":!0}),style:{zIndex:999},children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("path",{d:"M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"})})})]})}function D({title:n,titleId:s,...o},t){return i.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},o),n?i.exports.createElement("title",{id:s},n):null,i.exports.createElement("path",{fillRule:"evenodd",d:"M7.47 3.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1-1.06 1.06L8 4.81 5.28 7.53a.75.75 0 0 1-1.06-1.06l3.25-3.25Zm-3.25 8.25 3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 1 1-1.06 1.06L8 9.81l-2.72 2.72a.75.75 0 0 1-1.06-1.06Z",clipRule:"evenodd"}))}var T=i.exports.forwardRef(D);function Z({title:n,titleId:s,...o},t){return i.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},o),n?i.exports.createElement("title",{id:s},n):null,i.exports.createElement("path",{fillRule:"evenodd",d:"M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}))}var O=i.exports.forwardRef(Z);function H({title:n,titleId:s,...o},t){return i.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},o),n?i.exports.createElement("title",{id:s},n):null,i.exports.createElement("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"}))}var z=i.exports.forwardRef(H);function V({initBoard:n,isGrid:s}){const[o,t]=i.exports.useState(!1),[r,l]=i.exports.useState(n);return i.exports.useEffect(()=>{async function d(){try{const c=await v("get-board",{boardId:r==null?void 0:r.id},"background");c&&l({...r,...c})}catch{l({...r})}t(!0)}d()},[]),e(k,{children:o?a("figcaption",{className:"flex flex-col items-center gap-y-2",children:[e("div",{className:b({"flex items-center justify-between flex-shrink-0 -space-x-1":!s,"grid grid-cols-3 gap-1":s}),children:r==null?void 0:r.pin_thumbnail_urls.map((d,c)=>e("img",{className:"h-10 w-10 max-w-none rounded-md ring-2 ring-white",src:d},c))}),a("a",{href:`https://www.pinterest.com${r==null?void 0:r.url}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-900 uppercase font-bold flex items-center space-x-1",children:[e("span",{children:r==null?void 0:r.name}),e(C,{className:"w-4 h-4"})]}),a("div",{className:"space-x-1 space-y-2",children:[(r==null?void 0:r.pin_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[f(r==null?void 0:r.pin_count)," Pins"]}),(r==null?void 0:r.follower_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[f(r==null?void 0:r.follower_count)," Followers"]}),(r==null?void 0:r.collaborator_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[f(r==null?void 0:r.collaborator_count)," Collaborators"]}),(r==null?void 0:r.privacy)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-blue-100 px-1.5 py-0.5 text-xs font-bold text-blue-800",children:r==null?void 0:r.privacy}),(r==null?void 0:r.category)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-blue-100 px-1.5 py-0.5 text-xs font-bold text-blue-800",children:r==null?void 0:r.category}),(r==null?void 0:r.is_ads_only)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-yellow-100 px-1.5 py-0.5 text-xs font-bold text-yellow-800",children:"Ads Only"}),(r==null?void 0:r.is_collaborative)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-green-100 px-1.5 py-0.5 text-xs font-bold text-green-800",children:"Collaborative"}),(r==null?void 0:r.collaborator_requests_enabled)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-green-100 px-1.5 py-0.5 text-xs font-bold text-green-800",children:"Collaborator Requests"}),(r==null?void 0:r.collaborator_invites_enabled)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-green-100 px-1.5 py-0.5 text-xs font-bold text-green-800",children:"Collaborator Invites"}),(r==null?void 0:r.viewer_collaborator_join_requested)&&e("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-green-100 px-1.5 py-0.5 text-xs font-bold text-green-800",children:"Viewer Join Requested"})]})]}):e("div",{className:"w-full mx-auto mt-4",children:a("div",{className:"animate-pulse flex space-x-4",children:[e("div",{className:"rounded-md bg-slate-200 h-10 w-10"}),a("div",{className:"flex-1 space-y-2 py-1",children:[e("div",{className:"h-2 bg-slate-200 rounded"}),e("div",{className:"h-2 bg-slate-200 rounded"}),e("div",{className:"h-2 bg-slate-200 rounded"}),e("div",{className:"h-2 bg-slate-200 rounded"})]})]})})})}function F({initPinner:n}){var l,d;const[s,o]=i.exports.useState(!1),[t,r]=i.exports.useState(n);return i.exports.useEffect(()=>{async function c(){try{const p=await v("get-pinner",{pinnerId:t==null?void 0:t.id},"background");p&&r({...t,...p})}catch{r({...t})}o(!0)}c()},[]),e(k,{children:s?a("figcaption",{className:"flex flex-col gap-y-2",children:[a("div",{className:"flex items-center gap-x-4 w-full",children:[e("img",{className:"h-10 w-10 rounded-md bg-gray-50",src:(t==null?void 0:t.image_xlarge_url)||(t==null?void 0:t.image_medium_url)||`https://ui-avatars.com/api/?name=${t==null?void 0:t.full_name}&background=0D8ABC&color=fff`,alt:t==null?void 0:t.full_name,onError:c=>{c.target.onerror=null,c.target.src=`https://ui-avatars.com/api/?name=${t==null?void 0:t.full_name}&background=0D8ABC&color=fff`}}),a("div",{className:"flex-1 w-full",children:[a("div",{className:"flex items-center space-x-2",children:[a("span",{className:"font-semibold text-gray-900",children:[(l=t==null?void 0:t.full_name)==null?void 0:l.slice(0,20)," ",((d=t==null?void 0:t.full_name)==null?void 0:d.length)>20&&"..."]}),(t==null?void 0:t.domain_verified)&&e(se,{className:"w-4 h-4 md:w-5 md:h-5 text-green-700"})]}),a("div",{className:"flex items-center space-x-2",children:[a("a",{href:`https://www.pinterest.com/${t==null?void 0:t.username}`,target:"_blank",rel:"noreferrer",className:"text-pink-600 text-sm hover:text-pink-900 flex items-center space-x-1",children:[a("span",{children:["@",t==null?void 0:t.username]}),e(C,{className:"w-4 h-4 md:w-5 md:h-5"})]}),e("div",{className:"flex items-center space-x-1",children:e(oe,{text:t==null?void 0:t.username})})]})]})]}),a("div",{className:"space-x-1 space-y-1",children:[(t==null?void 0:t.pin_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.pin_count)}),e("span",{children:"Pins"})]}),(t==null?void 0:t.board_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.board_count)}),e("span",{children:"Boards"})]}),(t==null?void 0:t.follower_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.follower_count)}),e("span",{children:"Followers"})]}),(t==null?void 0:t.following_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.following_count)}),e("span",{children:"Following"})]}),(t==null?void 0:t.joined_communities_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.joined_communities_count)}),e("span",{children:"Joined Communities"})]}),(t==null?void 0:t.last_pin_save_time)&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:"Last Pin: "}),e("span",{children:ce(new Date(t==null?void 0:t.last_pin_save_time))})]}),(t==null?void 0:t.native_pin_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.native_pin_count)}),e("span",{children:"Native Pins"})]}),(t==null?void 0:t.profile_reach)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-blue-100 px-1.5 py-0.5 text-xs font-bold text-blue-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.profile_reach)}),e("span",{children:"Reach"})]}),(t==null?void 0:t.profile_views)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-blue-100 px-1.5 py-0.5 text-xs font-bold text-blue-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.profile_views)}),e("span",{children:"Views"})]}),(t==null?void 0:t.story_pin_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.story_pin_count)}),e("span",{children:"Story Pins"})]}),(t==null?void 0:t.video_pin_count)>0&&a("span",{className:"inline-flex items-center truncate uppercase rounded-md bg-gray-100 px-1.5 py-0.5 text-xs font-bold text-gray-800",children:[e("span",{className:"mr-1",children:f(t==null?void 0:t.video_pin_count)}),e("span",{children:"Video Pins"})]})]})]}):e("div",{className:"w-full mx-auto mt-4",children:a("div",{className:"animate-pulse flex space-x-4",children:[e("div",{className:"rounded-md bg-slate-200 h-10 w-10"}),a("div",{className:"flex-1 space-y-2 py-1",children:[e("div",{className:"h-2 bg-slate-200 rounded"}),e("div",{className:"h-2 bg-slate-200 rounded"}),e("div",{className:"h-2 bg-slate-200 rounded"}),e("div",{className:"h-2 bg-slate-200 rounded"})]})]})})})}function G(n){const s=/\/pin\/(\d+)/;var o;return(o=s.exec(n))!==null?o[1]:!1}const $=(n,s)=>{const[o,t]=i.exports.useState(s);return i.exports.useEffect(()=>{(async()=>{const r=await w.get(n);r!==void 0&&t(r)})()},[n]),[o,r=>{t(r),w.set(n,r)}]},Y=()=>{const[n,s]=i.exports.useState(null),[o,t]=i.exports.useState(window.location.href),[r,l]=$("pinDetailBannerClose",!0);return i.exports.useEffect(()=>{const d=()=>{t(window.location.href),s(null)},c=new MutationObserver(p=>{window.location.href!==o&&d()});return c.observe(document,{subtree:!0,childList:!0}),()=>{c.disconnect()}},[o]),i.exports.useEffect(()=>{async function d(){const c=G(o);if(c){const p=await w.get(j)==null?!0:await w.get(j);if(p){let u=null;try{u=await v("get-pin",{pinId:c},"background");const x=60*60;if(u&&(u==null?void 0:u.updatedAt)&&Date.now()-new Date(u==null?void 0:u.updatedAt)<x*1e3){p&&s(u);return}}catch{}const m={options:{id:c,field_set_key:"detailed",fetch_visual_search_objects:!0},context:{}},g={source_url:window.YTUONG_PATH,data:JSON.stringify(m),_:Math.floor(Date.now())};fetch(`${window.YTUONG_ORIGIN}/resource/PinResource/get/?${pe.stringify(g)}`,{headers:{"x-app-version":window.YTUONG_APP_VERSION,"x-pinterest-appstate":"active","x-pinterest-experimenthash":window.YTUONG_EXPERIMENT_HASH,"x-pinterest-source-url":window.YTUONG_PATH,"x-pinterest-pws-handler":window.YTUONG_HANDLER_ID}}).then(x=>x.json()).then(x=>{var y;const h=(y=x==null?void 0:x.resource_response)==null?void 0:y.data;p&&(s({...h,is_bookmarked:u==null?void 0:u.is_bookmarked}),v("store-pin",{pinData:h},"background"),v("store-board",{board:h==null?void 0:h.board},"background"),v("store-pinner",{pinner:h==null?void 0:h.pinner},"background"),h!=null&&h.native_creator&&v("store-pinner",{pinner:h==null?void 0:h.native_creator},"background"))}).catch(x=>Promise.reject(x))}}}d()},[o]),a("div",{className:"pin-detail-banner",children:[n&&!r&&e("div",{className:"pointer-events-none fixed z-50 inset-x-0 bottom-4 px-6 pb-2",children:a("div",{className:"pointer-events-auto mx-auto max-w-6xl rounded-xl bg-white pb-6 pt-2 px-2 shadow-lg ring-1 ring-gray-900/10",children:[a("div",{className:"text-gray-800 flex justify-between items-center pb-1 mb-2 space-x-1 font-medium border-b border-gray-200",children:[a("div",{className:"ytuong-icon ytuong-icon__danger",children:[e("div",{className:"ytuong-tooltip ytuong-tooltip__dang text-xs",children:"SortPin.com"}),e("a",{className:"flex items-center px-2 py-1 text-xs rounded-md bg-pink-600 text-white group-hover:bg-pink-800",href:"https://sortpin.com/",target:"_blank",children:"SortPin.com"})]}),a("div",{className:"flex items-center space-x-2",children:[a("div",{className:"ytuong-icon ytuong-icon__danger",children:[e("div",{className:"ytuong-tooltip ytuong-tooltip__dang text-xs",children:"Fuel our coding with caffeine! \u2615\uFE0F"}),e("a",{className:"flex items-center px-2 py-1 text-sm font-medium rounded-md text-white bg-amber-600 group-hover:bg-amber-800",href:"https://go.sortpin.com/coffee",target:"_blank",children:"\u2615\uFE0F Buy us a coffee"})]}),a("div",{className:"ytuong-icon ytuong-icon__danger",children:[e("div",{className:"ytuong-tooltip ytuong-tooltip__dang text-xs",children:"Close this banner"}),e("button",{type:"button",onClick:()=>l(!0),className:"flex items-center justify-center !my-0 rounded-full bg-gray-600 p-1 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:e(z,{className:"w-4 h-4","aria-hidden":"true"})})]})]})]}),a("div",{className:"grid grid-cols-3 gap-4",children:[e(F,{initPinner:n==null?void 0:n.pinner}),e(V,{initBoard:n==null?void 0:n.board}),e(P,{as:"div",defaultOpen:!0,children:({open:d})=>a(k,{children:[a(P.Button,{className:"flex w-full items-center uppercase justify-between rounded-lg bg-pink-100 px-2 py-1 text-left text-xs font-bold text-pink-900 hover:bg-pink-200 focus:outline-none focus-visible:ring focus-visible:ring-pink-500 focus-visible:ring-opacity-75",children:[e("span",{children:"Tags"}),e(O,{className:b({"rotate-180 transform":!d,"h-5 w-5 text-pink-500":!0})})]}),e(P.Panel,{className:"px-2 pt-2 pb-2 text-xs md:text-sm text-gray-900",children:n==null?void 0:n.hashtags.join(", ")})]})})]})]})}),n&&r&&e("div",{className:"fixed z-50 inset-x-0 bottom-8 px-6 pb-4",children:e("div",{className:"mx-auto max-w-xs flex justify-center items-center",children:a("div",{className:"ytuong-icon ytuong-icon__danger",children:[e("div",{className:"ytuong-tooltip-top ytuong-tooltip__dang text-xs",children:"View detailed information about this pin"}),e("button",{type:"button",onClick:()=>l(!1),className:"rounded-full bg-pink-600 p-1 text-white hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2",children:e(T,{className:"w-4 h-4","aria-hidden":"true"})})]})})})]})};function q({title:n,titleId:s,...o},t){return i.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},o),n?i.exports.createElement("title",{id:s},n):null,i.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var J=i.exports.forwardRef(q);function W({onClose:n,onUpgrade:s,dismissedCount:o=0}){const[t,r]=i.exports.useState(!1),l={avatar1:chrome.runtime.getURL("avatars/Anastasia Blogger.jpeg"),avatar2:chrome.runtime.getURL("avatars/Smart Money Tactics.png"),avatar3:chrome.runtime.getURL("avatars/Incognito Money.png"),avatar4:chrome.runtime.getURL("avatars/Zoran IG.jpeg"),avatar6:chrome.runtime.getURL("avatars/Terry Helliker.png")};i.exports.useEffect(()=>{r(!0)},[]);const d=()=>{r(!1),setTimeout(n,200)},c=()=>{r(!1),setTimeout(s,200)},p=()=>o<3?"Unlock Your Pinterest Superpowers! \u{1F680}":o<6?"Ready to Level Up?":o<10?"Join 40,000+ Happy Users!":"Don't Miss Premium Features!",u=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-yellow-400",children:e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})});return e("div",{className:`sortpin-reminder-overlay fixed inset-0 z-[999999999] flex items-center justify-center p-4 transition-opacity duration-200 ${t?"opacity-100":"opacity-0"}`,style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:a("div",{className:`sortpin-reminder-modal bg-white rounded-xl shadow-2xl max-w-md w-full transition-opacity duration-200 ${t?"opacity-100":"opacity-0"}`,onClick:m=>m.stopPropagation(),children:[a("div",{className:"relative p-5 pb-3",children:[e("button",{onClick:d,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 rounded-full p-1","aria-label":"Close",children:e(ie,{className:"h-4 w-4"})}),e("div",{className:"flex items-center justify-center mb-3",children:a("a",{href:"https://www.sortpin.com",target:"_blank",className:" text-lg font-bold  text-gray-700 flex items-center",children:[e("img",{src:chrome.runtime.getURL("img/icon-196.png"),className:"w-8 h-8 mr-2 rounded-md"}),e("span",{className:"text-sm font-bold text-gray-900",children:"SortPin.com Extension"})]})}),e("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:p()}),e("p",{className:"text-xs text-gray-600 text-center mb-4",children:"Upgrade to premium and supercharge your Pinterest workflow"}),a("div",{className:"bg-pink-50 rounded-lg p-3 border border-pink-100",children:[a("div",{className:"flex items-center justify-center space-x-2",children:[e("div",{className:"flex overflow-hidden -space-x-1.5",children:[{url:l.avatar1,alt:"Anastasia Blogger"},{url:l.avatar2,alt:"Smart Money Tactics"},{url:l.avatar3,alt:"Incognito Money"},{url:l.avatar4,alt:"Zoran IG"},{url:l.avatar6,alt:"Terry Helliker"}].map((m,g)=>e("img",{src:m.url,alt:m.alt,className:"inline-block h-8 w-8 rounded-full border-2 border-white bg-white object-cover shadow-sm"},g))}),e("div",{className:"flex items-center space-x-0.5 bg-white px-2 py-1 rounded-md shadow-sm",children:[...Array(5)].map((m,g)=>e(u,{},g))})]}),a("p",{className:"text-xs text-gray-700 text-center mt-2",children:["Trusted by"," ",e("span",{className:"font-bold text-pink-600",children:"40,000+"})," Pinterest Lovers \u2022 \u2B50 4.9/5"]})]})]}),a("div",{className:"px-5 pb-4",children:[a("div",{className:"bg-white border border-gray-100 rounded-lg p-3 mb-3",children:[a("h4",{className:"text-xs font-bold text-gray-900 mb-2 flex items-center",children:[e("div",{className:"bg-pink-600 rounded-md mr-2",style:{padding:"0.25rem"},children:e(S,{className:"h-3 w-3 text-white"})}),e("span",{children:"Premium Features:"})]}),e("ul",{className:"space-y-1.5",children:["Unlimited pin sorting & filtering","Advanced analytics & statistics","Export data to CSV","Priority email support","No reminders or ads"].map((m,g)=>a("li",{className:"flex items-start text-xs text-gray-700",children:[e(J,{className:"h-3.5 w-3.5 text-pink-600 mr-2 mt-0.5 flex-shrink-0"}),e("span",{className:"leading-tight",children:m})]},g))})]}),a("div",{className:"text-center mb-3 bg-pink-50 rounded-lg p-3 border border-pink-100",children:[e("div",{className:"inline-block bg-pink-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full mb-1.5",children:"\u{1F389} SPECIAL OFFER"}),e("div",{className:"flex items-center justify-center space-x-2",children:e("p",{className:"text-xl font-bold text-pink-600",children:"Lifetime Access"})}),e("p",{className:"text-[10px] text-gray-600 mt-0.5",children:"One-time payment \u2022 No subscriptions"})]})]}),a("div",{className:"px-5 pb-5 flex flex-col space-y-2",children:[a("button",{onClick:c,className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-sm font-bold rounded-lg shadow-sm text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500",children:[e(S,{className:"h-4 w-4 mr-2"}),"Upgrade to Premium"]}),e("button",{onClick:d,className:"w-full px-4 py-2 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg",children:"Maybe later"})]}),a("div",{className:"px-5 pb-4 text-center border-t border-gray-100 pt-3",children:[o>0&&a("p",{className:"text-[10px] text-gray-400 mb-2",children:["\u{1F4A1} Seen ",o,"x \u2022",o>=5?" Join others who upgraded!":" Still thinking?"]}),a("p",{className:"text-[10px] text-gray-500",children:["This message is from"," ",e("a",{href:"https://www.sortpin.com",target:"_blank",className:"font-semibold text-pink-600",children:"SortPin.com"})," ","extension, not Pinterest"]})]})]})})}async function X(){try{const n=await w.get(I),s=Date.now();if(!n)return!0;const o=M+Math.random()*(de-M);return s-parseInt(n)>=o}catch(n){return console.error("Error checking reminder status:",n),!1}}async function K(){try{const n=Date.now();await w.set(I,n.toString())}catch(n){console.error("Error marking reminder as shown:",n)}}async function Q(){try{const n=await w.get(B)||0,s=parseInt(n)+1;return await w.set(B,s.toString()),s}catch(n){return console.error("Error incrementing dismissed count:",n),0}}async function ee(){try{const n=await w.get(B)||0;return parseInt(n)}catch(n){return console.error("Error getting dismissed count:",n),0}}function te(){const[n,s]=N(),[o,t]=i.exports.useState(!1),[r,l]=i.exports.useState(0),[d,c]=i.exports.useState(null),p=s.isAuthenticated();i.exports.useEffect(()=>{if(p){d&&(clearInterval(d),c(null));return}u();const y=setTimeout(m,3e3),R=setInterval(m,60*1e3);return c(R),()=>{clearTimeout(y),clearInterval(R)}},[p]);const u=async()=>{const y=await ee();l(y)},m=async()=>{s.isAuthenticated()||await X()&&(t(!0),await K())},g=async()=>{t(!1);const y=await Q();l(y)},x=()=>{t(!1);const y=`https://sortpin.com/pricing?${new URLSearchParams({utm_source:"extension",utm_medium:"reminder_modal",utm_campaign:"free_to_premium",utm_content:`dismissed_${r}`}).toString()}`;window.open(y,"_blank")};if(p||!o)return null;const h=document.body;return L.createPortal(e(W,{onClose:g,onUpgrade:x,dismissedCount:r}),h)}function re(){const[n,s]=N(),{generalSettings:o}=n,{showDelay:t,showDetailPin:r}=o,[l,d]=i.exports.useState(!1),[c,p]=i.exports.useState(0);i.exports.useEffect(()=>{if(n.heyButton.show){n.heyButton.sidebarBehavior==="pushed"&&(n.heyButton.sidebarPosition==="top-right"?(document.body.style.marginRight="400px",document.body.style.marginLeft="0px"):(document.body.style.marginRight="0px",document.body.style.marginLeft="400px"));let g=window.location.href;const x=E(g);x?m(x):s.setHeyButtonIframe(chrome.runtime.getURL("popup.html"))}else document.body.style.marginRight="0px",document.body.style.marginLeft="0px";async function m(g){await s.setPinsPinners([g]),await s.setHeyButtonIframe(chrome.runtime.getURL("popup.html#/pins"))}},[n.heyButton.show,n.heyButton.sidebarBehavior]),i.exports.useEffect(()=>{if(l){if(!c){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),p(o.delay*1e3);return}const m=setInterval(()=>{p(c-1e3)},1e3);return()=>clearInterval(m)}},[c,l]);const u=()=>{d(!l),l?p(0):(window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),p(o.delay*1e3))};return a("div",{children:[e(te,{}),e("div",{className:b({"fixed z-50 top-1/2 right-2":n.heyButton.sidebarPosition==="top-right","fixed top-1/2 left-2":n.heyButton.sidebarPosition==="top-left"}),children:a("div",{className:"flex flex-col space-y-1",children:[e(U,{}),e(A,{})]})}),a("div",{className:b({" fixed h-screen transition duration-500 ease-in-out ":!0," top-0 right-0":n.heyButton.sidebarPosition==="top-right"," left-0 top-0":n.heyButton.sidebarPosition==="top-left"}),style:{display:n.heyButton.show?"block":"none",zIndex:9999,width:"600px"},children:[e("button",{className:b({" -left-14 top-7":n.heyButton.sidebarPosition==="top-right","-right-14 top-7":n.heyButton.sidebarPosition==="top-left","absolute text-white bg-pink-600 border-pink-600 border-2 border-dashed cursor-pointer rounded-lg p-2 hover:bg-pink-800 hover:border-pink-800 transition duration-500 ease-in-out":!0}),onClick:()=>s.toggleHeyButton(),children:e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",className:"w-4 h-4 text-white",fill:"currentColor",children:e("path",{d:"M13.414,12l6.293-6.293a1,1,0,0,0-1.414-1.414L12,10.586,5.707,4.293A1,1,0,0,0,4.293,5.707L10.586,12,4.293,18.293a1,1,0,1,0,1.414,1.414L12,13.414l6.293,6.293a1,1,0,0,0,1.414-1.414Z"})})}),e("div",{id:"heybutton-iframes",className:"w-full h-full border-2 border-dashed border-pink-600 rounded-lg bg-white",children:n.heyButton.show&&e("iframe",{src:n.heyButton.iframe,allow:"clipboard-write; clipboard-read",className:" w-full h-full border-none"})})]}),r&&e(Y,{}),t&&e("div",{className:"fixed z-50 inset-x-0 bottom-2 px-6",children:e("div",{className:"mx-auto max-w-xs flex justify-center items-center",children:a("button",{onClick:u,className:b("px-2 py-2 text-white text-xs font-medium border rounded-lg shadow-xl focus:outline-none focus:ring-1",{"bg-blue-500 hover:bg-blue-700 focus:ring-blue-500 focus:border-blue-500 border-blue-300":!l,"bg-red-500 hover:bg-red-700 focus:ring-red-500 focus:border-red-500 border-red-300":l}),children:[!l&&a("p",{className:"flex items-center space-x-1 uppercase",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("path",{fillRule:"evenodd",d:"M8 2a.75.75 0 0 1 .75.75v8.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.22 3.22V2.75A.75.75 0 0 1 8 2Z",clipRule:"evenodd"})})," ",a("span",{children:["Start Scroll (",o.delay,"s) "]})]}),l&&a("p",{className:"flex items-center space-x-1 uppercase",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:e("rect",{width:10,height:10,x:3,y:3,rx:1.5})})," ",e("span",{children:"Stop Scroll"}),e("span",{children:c/1e3}),"s"]})]})})})]})}const _=document.createElement("div");_.id="pinterest-one-root",document.body.append(_),L.render(e(ne.StrictMode,{children:e(re,{})}),_)});
